<%- include('../partials/head') %>
</head>
<body class="bg-gray-100 font-sans min-h-screen">
    <%- include('../partials/nav') %>

    <main class="flex justify-center items-center min-h-screen px-4">
        <div class="p-8 w-full max-w-2xl mx-auto bg-white rounded-xl shadow-lg">
            
            <!-- Heading -->
            <h1 class="text-3xl font-bold mb-2 text-center text-gray-800">
                <%= editing ? "Edit" : "Register" %> Your Home on 
                <span class="text-rose-500">Mybnb</span>
            </h1>
            <p class="text-gray-500 text-center mb-6">
                Fill out the form to list your property.
            </p>

            <!-- Form -->
            <form 
                action="/host/<%= editing ? "edit-home" : "add-home" %>" 
                method="POST" 
                enctype="multipart/form-data"
                class="space-y-5"
            >
                <input type="hidden" name="id" value="<%= editing ? home.id : '' %>">

                <!-- House Name -->
                <div>
                    <label for="houseName" class="block text-gray-700 font-medium mb-1">House Name</label>
                    <input
                        type="text"
                        id="houseName"
                        name="houseName"
                        value="<%= editing ? home.houseName : '' %>"
                        placeholder="Enter your House Name"
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-400 transition"
                    />
                </div>

                <!-- Price -->
                <div>
                    <label for="price" class="block text-gray-700 font-medium mb-1">Price per Night</label>
                    <input
                        type="text"
                        id="price"
                        name="price"
                        value="<%= editing ? home.price : '' %>"
                        placeholder="e.g., 1200"
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-400 transition"
                    />
                </div>

                <!-- Location -->
                <div>
                    <label for="location" class="block text-gray-700 font-medium mb-1">Location</label>
                    <input
                        type="text"
                        id="location"
                        name="location"
                        value="<%= editing ? home.location : '' %>"
                        placeholder="City, Country"
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-400 transition"
                    />
                </div>

                <!-- Rating -->
                <div>
                    <label for="rating" class="block text-gray-700 font-medium mb-1">Rating</label>
                    <input
                        type="text"
                        id="rating"
                        name="rating"
                        value="<%= editing ? home.rating : '' %>"
                        placeholder="e.g., 4.5"
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-400 transition"
                    />
                </div>

                <!-- Photo Upload -->
                <div>
                    <label for="photo" class="block text-gray-700 font-medium mb-1">Home Photo</label>
                    <input
                        type="file"
                        id="photo"
                        name="photo"
                        accept="image/*" 
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-400 transition file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-rose-500 file:text-white hover:file:bg-rose-600"
                    />
                </div>

                <!-- Rules PDF Upload -->
                <!-- <div>
                    <label for="rules" class="block text-gray-700 font-medium mb-1">Upload House Rules (PDF)</label>
                    <input
                        type="file"
                        id="rules"
                        name="rules"
                        accept="application/pdf"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-400 transition file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-rose-500 file:text-white hover:file:bg-rose-600"
                    />
                </div> -->


                <!-- Description -->
                <div>
                    <label for="description" class="block text-gray-700 font-medium mb-1">Description</label>
                    <textarea
                        id="description"
                        name="description"
                        placeholder="Enter a short description of your home"
                        required
                        rows="4"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-400 transition"
                    ><%= editing ? home.description : '' %></textarea>
                </div>

                <!-- Submit Button -->
                <div class="flex justify-center mt-8">
                    <button
                        type="submit"
                        class="bg-rose-500 text-white font-semibold rounded-lg shadow hover:bg-rose-600 transition px-10 py-3"
                    >
                        <%= editing ? "Update" : "Submit" %>
                    </button>
                </div>
            </form>

            <!-- Go Back -->
            <p class="text-center text-gray-500 mt-4">
                <a href="/" class="text-rose-500 hover:underline">Go back to homepage</a>
            </p>
        </div>
    </main>
</body>
</html>
